---
title: Core Concepts
description: What you need to know to get the most out of the SDK
---

import Hero from "../../../../shared-components/Hero.js";
import { Callout } from 'nextra-theme-docs'

<Hero
  title="Core Concepts"
  subtitle="What you need to know to get the most out of the SDK"
/>

The CodeSandbox SDK provides a complete cloud development infrastructure that allows you to programmatically create, manage, and interact with isolated development environments. This page explains the conceptual architecture and terminology to help you understand how Sandboxes can integrate with your product.

## Sandbox Types

### Templates

**Templates** are pre-configured environment snapshots that serve as the foundation for creating Sandboxes. Think of them as "golden images" that contain:

- Pre-installed dependencies
- Environment configuration using Devcontainers and/or Docker
- Setup tasks and workflows
- Running processes for optimal continutation creating Sandboxes

### Sandboxes

**Sandboxes** are isolated virtual machines (Firecracker VMs) running your development environments. Each Sandbox:

- Runs completely isolated from others
- Has persistent file storage
- Can be hibernated and resumed with full state preservation
- Exposes services through secure host URLs

## Sandbox Persistence

### Default Persistence (Deprecated)

Get going quickly with no cost, but less predictability on Sandbox resume times.

- Sandboxes will be archived after 2-7 days after hibernation. The number of days depends on cluster load
- Archived Sandboxes takes 10-60 seconds to resume, depending on workload and cluster load
- Identified by `CLEAN` bootup on resume, which allows you to create a user experience around it

<Callout>
This default persistence inherited from the CodeSandbox product is not living up to the requirements of the SDK product. We are deprecating this in favour of **long term persistence** which is coming soon.
</Callout>

### Managed Persistence

Manage persistence with no cost and predictable Sandbox resume times.

- Push workspace changes to remote persistence (db/git)
- Do not hibernate, but delete the Sandbox
- On resume, fork the template and pull persistence (< 10s depending on workload)

### Long Term Persistence (coming soon)

Predictable resume times with a cost overhead.

- Sandboxes will never be archived when hibernated, you control when to delete them
- Resuming a hibernated Sandbox will take 1-3 seconds
- Create Sandboxes from other Sandboxes at scale

## The Sandbox Lifecycle

Understanding how sandboxes and templates progress through a development lifecycle is key to integrating CodeSandbox effectively. An end user may interact with a Sandbox directly, or indirectly through an agent (such as a connected service or automated workflow). Depending on the development flow that you are creating, you will need to mindful about managing the lifcycle of the Sandbox.

Read more in [Lifecycle Management](./manage-sandboxes)

### Template creation

- Creates an optimal starting point for users
- Build templates using the SDK
- Optimized VM snapshots are generated and scheduled to multiple clusters

### Sandbox creation

- A user wants to create a new Sandbox
- Create Sandbox from template using the SDK
- The template is forked from cluster X in 1-3s

### User interaction

- A user/agent wants to interact with the Sandbox
- Connect to the Sandbox using the SDK
- Sandbox Agent handles interactions

### Host interaction

- A user wants to interact with a host
- By default hosts are public, but you can generate tokens for private hosts using the SDK
- Use a proxy through your own server to manage interactions with hosts

### Hibernation

- A user/agent ends their session
- Hibernate the Sandbox using the SDK
- A snapshot is generated for instant continutation

### Resume from hibernation

- A user/agent starts a new session on the same Sandbox
- Resume the Sandbox using the SDK
- Sandbox continues from snapshot in 1-3s

<Callout>
With default persistence Sandboxes archive after 2-7 days, depending on cluster health. In this state a resume takes 10-60 seconds normally.
</Callout>

### Deleting

- The Sandbox is no longer needed
- Optionally push persistence to git/db using the SDK
- Delete the Sandbox using the SDK

### Resume from deletion

- A user decides to come back and you have persisted their work
- Create Sandbox from template using SDK. Pull persistence from git/db
- The template is forked from cluster X in 1-3s
